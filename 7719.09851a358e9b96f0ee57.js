(self.webpackChunkcursosprinonic=self.webpackChunkcursosprinonic||[]).push([[7719],{7719:(e,o,n)=>{"use strict";n.r(o),n.d(o,{ConfirmacaoPedidoPageModule:()=>v});var t=n(8486),i=n(8619),r=n(2693);let c=(()=>{class e{constructor(e){this.http=e}inserir(e){return this.http.post(`${t.H.baseUrl}/pedidos`,e,{observe:"response",responseType:"text"})}}return e.\u0275fac=function(o){return new(o||e)(i.LFG(r.eN))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();var a=n(1116),d=n(1462),l=n(8809),s=n(2782),u=n(1604),Z=n(8171);function p(e,o){1&e&&(i.TgZ(0,"ion-title"),i._uU(1,"Pedido Registrado"),i.qZA())}function g(e,o){1&e&&(i.TgZ(0,"ion-title"),i._uU(1,"Confira Seu Pedido"),i.qZA())}function m(e,o){if(1&e&&(i.TgZ(0,"ion-item"),i.TgZ(1,"ion-thumbnail",8),i._UZ(2,"img",9),i.qZA(),i.TgZ(3,"ion-label",10),i.TgZ(4,"h2"),i._uU(5),i.qZA(),i.TgZ(6,"p",11),i._uU(7),i.ALo(8,"currency"),i.qZA(),i.TgZ(9,"p"),i._uU(10),i.ALo(11,"currency"),i.qZA(),i.TgZ(12,"p",12),i._uU(13),i.qZA(),i.qZA(),i.qZA()),2&e){const e=o.$implicit;i.xp6(2),i.Q6J("src",e.produto.imageUrl||"assets/imgs/prod.jpg",i.LSH),i.xp6(3),i.Oqu(e.produto.nome),i.xp6(2),i.Oqu(i.lcZ(8,5,e.produto.preco*e.quantidade)),i.xp6(3),i.Oqu(i.lcZ(11,7,e.produto.preco)),i.xp6(3),i.Oqu(e.quantidade)}}function h(e,o){if(1&e&&(i.TgZ(0,"ion-item"),i.TgZ(1,"ion-label"),i.TgZ(2,"h3"),i._uU(3,"Pagamento com cart\xe3o"),i.qZA(),i.TgZ(4,"p"),i._uU(5),i.qZA(),i.qZA(),i.qZA()),2&e){const e=i.oxw(2);i.xp6(5),i.hij("Parcelas: ",e.pedido.pagamento.numeroParcelas,"")}}function q(e,o){1&e&&(i.TgZ(0,"ion-item"),i.TgZ(1,"h3"),i._uU(2,"Pagamento com boleto"),i.qZA(),i.qZA())}function f(e,o){if(1&e){const e=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"ion-card"),i.TgZ(2,"ion-card-header"),i.TgZ(3,"ion-card-title"),i._uU(4,"Itens do pedido"),i.qZA(),i.qZA(),i.TgZ(5,"ion-list"),i.YNc(6,m,14,9,"ion-item",4),i.TgZ(7,"ion-item"),i.TgZ(8,"h2"),i._uU(9,"Total"),i.qZA(),i.TgZ(10,"h2",5),i._uU(11),i.ALo(12,"currency"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(13,"ion-card"),i.TgZ(14,"ion-card-header"),i._uU(15," Cliente "),i.qZA(),i.TgZ(16,"ion-item"),i.TgZ(17,"ion-label"),i.TgZ(18,"h2"),i._uU(19),i.qZA(),i.TgZ(20,"p"),i._uU(21),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(22,"ion-card"),i.TgZ(23,"ion-card-header"),i._uU(24," Endere\xe7o de entrega "),i.qZA(),i.TgZ(25,"ion-item"),i.TgZ(26,"ion-label"),i.TgZ(27,"h2"),i._uU(28),i.qZA(),i.TgZ(29,"p"),i._uU(30),i.qZA(),i.TgZ(31,"p"),i._uU(32),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(33,"ion-card"),i.TgZ(34,"ion-card-header"),i._uU(35," Pagamento "),i.qZA(),i.YNc(36,h,6,1,"ion-item",2),i.YNc(37,q,3,0,"ion-item",2),i.qZA(),i.TgZ(38,"ion-button",6),i.NdJ("click",function(){return i.CHM(e),i.oxw().finalizarCompra()}),i._uU(39,"Confirmar Pedido"),i.qZA(),i.TgZ(40,"ion-button",7),i.NdJ("click",function(){return i.CHM(e),i.oxw().voltar()}),i._uU(41,"Voltar"),i.qZA(),i.qZA()}if(2&e){const e=i.oxw();i.xp6(6),i.Q6J("ngForOf",e.cartItems),i.xp6(5),i.Oqu(i.lcZ(12,13,e.total())),i.xp6(8),i.Oqu(null==e.cliente?null:e.cliente.nome),i.xp6(2),i.Oqu(null==e.cliente?null:e.cliente.email),i.xp6(7),i.AsE("",null==e.endereco?null:e.endereco.logradouro,", ",null==e.endereco?null:e.endereco.numero,""),i.xp6(2),i.lnq("",null==e.endereco?null:e.endereco.complemento," ",null==e.endereco?null:e.endereco.bairro," CEP ",null==e.endereco?null:e.endereco.cep,""),i.xp6(2),i.AsE("",null==e.endereco?null:e.endereco.cidade.nome,", ",null==e.endereco?null:e.endereco.cidade.estado.nome,""),i.xp6(4),i.Q6J("ngIf","pagamentoComCartao"==e.pedido.pagamento["@type"]),i.xp6(1),i.Q6J("ngIf","pagamentoComBoleto"==e.pedido.pagamento["@type"])}}function A(e,o){if(1&e){const e=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"ion-card"),i.TgZ(2,"ion-list-header"),i.TgZ(3,"h2"),i._uU(4,"Seu pedido foi registrado !"),i.qZA(),i.qZA(),i.TgZ(5,"ion-item"),i.TgZ(6,"ion-label"),i.TgZ(7,"h2"),i._uU(8),i.qZA(),i.TgZ(9,"p"),i._uU(10,"Verifique seu email"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(11,"ion-button",7),i.NdJ("click",function(){return i.CHM(e),i.oxw().home()}),i._uU(12,"Voltar"),i.qZA(),i.qZA()}if(2&e){const e=i.oxw();i.xp6(8),i.hij("C\xf3digo do pedido: ",e.codPedido,"")}}const T=[{path:"",component:(()=>{class e{constructor(e,o,n,t,i,r){this.navCtrl=e,this.navParams=o,this.cartService=n,this.clienteService=t,this.activateRoute=i,this.pedidoService=r,this.pedido=JSON.parse(i.snapshot.paramMap.get("pedido"))}ngOnInit(){console.log(this.pedido),this.cartItems=this.cartService.getCart().itens,this.clienteService.encontrarPorId(this.pedido.cliente.id).subscribe(e=>{this.cliente=e,this.endereco=this.encontrarEndereco(this.pedido.enderecoEntrega.id,e.enderecos)},e=>{this.navCtrl.navigateRoot("/folder/components/home")})}encontrarEndereco(e,o){let n=o.findIndex(o=>o.id==e);return o[n]}total(){return this.cartService.total()}voltar(){this.navCtrl.navigateRoot("/folder/components/carrinho")}home(){this.navCtrl.navigateRoot("/folder/components/categorias")}finalizarCompra(){this.pedidoService.inserir(this.pedido).subscribe(e=>{this.cartService.criarOuLimparCarrinho(),this.codPedido=this.encontrarId(e.headers.get("location"))},e=>{console.log(e),403==e.status&&this.navCtrl.navigateRoot("/folder/components/home")})}encontrarId(e){let o=e.lastIndexOf("/");return e.substring(o+1,e.length)}}return e.\u0275fac=function(o){return new(o||e)(i.Y36(l.SH),i.Y36(l.X1),i.Y36(u.N),i.Y36(Z.$),i.Y36(s.gz),i.Y36(c))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-confirmacao-pedido"]],decls:9,vars:5,consts:[[3,"translucent"],["slot","start"],[4,"ngIf"],["padding",""],[4,"ngFor","ngForOf"],["slot","end"],["expand","full","type","submit",3,"click"],["expand","full","color","medium",3,"click"],["item-start",""],[3,"src"],[2,"margin-left","10px"],[2,"float","right"],[1,"nolinebreak",2,"margin-left","20px"]],template:function(e,o){1&e&&(i.TgZ(0,"ion-header",0),i.TgZ(1,"ion-toolbar"),i.TgZ(2,"ion-buttons",1),i._UZ(3,"ion-menu-button"),i.qZA(),i.YNc(4,p,2,0,"ion-title",2),i.YNc(5,g,2,0,"ion-title",2),i.qZA(),i.qZA(),i.TgZ(6,"ion-content",3),i.YNc(7,f,42,15,"div",2),i.YNc(8,A,13,1,"div",2),i.qZA()),2&e&&(i.Q6J("translucent",!0),i.xp6(4),i.Q6J("ngIf",o.codPedido),i.xp6(1),i.Q6J("ngIf",!o.codPedido),i.xp6(2),i.Q6J("ngIf",!o.codPedido),i.xp6(1),i.Q6J("ngIf",o.codPedido))},directives:[l.Gu,l.sr,l.Sm,l.fG,a.O5,l.W2,l.wd,l.PM,l.Zi,l.gZ,l.q_,a.sg,l.Ie,l.Q$,l.YG,l.Bs,l.yh],pipes:[a.H9],styles:["h2[_ngcontent-%COMP%]{font-size:20px}p[_ngcontent-%COMP%]{font-size:15px}"]}),e})()}];let x=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[s.Bz.forChild(T)],s.Bz]}),e})(),v=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[c],imports:[[a.ez,d.u5,l.Pc,x]]}),e})()}}]);