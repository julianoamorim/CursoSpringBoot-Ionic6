{"version":3,"sources":["./src/app/folder/components/escolher-endereco/escolher-endereco-routing.module.ts","./src/app/folder/components/escolher-endereco/escolher-endereco.module.ts","./src/app/folder/components/escolher-endereco/escolher-endereco.page.ts","./src/app/folder/components/escolher-endereco/escolher-endereco.page.scss","./src/app/folder/components/escolher-endereco/escolher-endereco.page.html"],"names":[],"mappings":"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","file":"src_app_folder_components_escolher-endereco_escolher-endereco_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EscolherEnderecoPage } from './escolher-endereco.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EscolherEnderecoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EscolherEnderecoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EscolherEnderecoPageRoutingModule } from './escolher-endereco-routing.module';\n\nimport { EscolherEnderecoPage } from './escolher-endereco.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EscolherEnderecoPageRoutingModule\n  ],\n  declarations: [EscolherEnderecoPage]\n})\nexport class EscolherEnderecoPageModule {}\n","import { CartService } from 'src/services/domain/cart.service';\nimport { PedidoDTO } from './../../../../models/pedido.dto';\nimport { ClienteService } from 'src/services/domain/cliente.service';\nimport { EnderecoDTO } from './../../../../models/endereco.dto';\nimport { Component, OnInit } from '@angular/core';\nimport { NavController, NavParams } from '@ionic/angular';\nimport { StorageService } from 'src/services/storage.service';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-escolher-endereco',\n  templateUrl: './escolher-endereco.page.html',\n  styleUrls: ['./escolher-endereco.page.scss'],\n})\nexport class EscolherEnderecoPage implements OnInit {\n\n  items : EnderecoDTO[];\n  pedido: PedidoDTO;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public storage: StorageService,\n    public clienteService: ClienteService,\n    public cartService: CartService,\n    public router: Router,\n    public route: ActivatedRoute\n  ) { }\n\n  ngOnInit() {\n\n    let localUser = this.storage.getLocalUser();\n    if (localUser && localUser.email) {\n      this.clienteService.encontrarPorEmail(localUser.email)\n      .subscribe(response => {\n        this.items = response['enderecos']; //entre [] evita o erro do compilador na busca do backend\n\n        let cart = this.cartService.getCart();\n\n        this.pedido = {\n          cliente: {id: response['id']},\n          enderecoEntrega: null,\n          pagamento: null,\n          itens: cart.itens.map(x => {return {quantidade: x.quantidade, produto: {id: x.produto.id}}}) // percorre as classes cart.ts e cart-item.ts pegando os produtos e convertendo p/ PedidoDTO\n        }\n      },\n      (error) => { //Nao esta funcionando, o Observable error foi descontinuado na versao atual do modulo rxjs\n        console.log(error)\n        if (error.status == 403) {\n          console.log('voltando')\n          this.navCtrl.navigateRoot('folder/components/home')\n        }\n      });\n    }\n    else {\n      this.navCtrl.navigateRoot('folder/components/home')\n    }    \n\n  }\n\n  proximaPagina(item: EnderecoDTO){\n    this.pedido.enderecoEntrega = {id: item.id}; //retorna o id do cliente, endereco, em vez o objeto completo\n    let data = JSON.stringify(this.pedido);\n    this.router.navigate(['../pagamento',{data}], {relativeTo: this.route});\n\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlc2NvbGhlci1lbmRlcmVjby5wYWdlLnNjc3MifQ== */\";","export default \"<!-- Barra superiro do Menu -->\\n<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"carrinho\\\"></ion-back-button> <!-- botao de voltar, colocar a referencia da pagina --> \\n    </ion-buttons>\\n    <ion-title>Fechamento de Pedido</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <ion-list>\\n      <ion-list-header>\\n        <h2>Selecione um endere√ßo</h2>  \\n      </ion-list-header>\\n      <ion-item button *ngFor=\\\"let item of items\\\" (click)=\\\"proximaPagina(item)\\\">\\n          <ion-label>\\n            <h2>{{item.logradouro}}, {{item.numero}}</h2>\\n            <p>{{item.complemento}} {{item.bairro}} CEP {{item.cep}}</p>\\n            <p>{{item.cidade.nome}}, {{item.cidade.estado.nome}}</p>\\n          </ion-label>\\n      </ion-item>\\n    </ion-list>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}